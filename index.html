<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Plume Infinie â€” Concepteur de livres par IA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:Inter,sans-serif;
background:#f7f7f5;
color:#1e293b;
}
header{
background:#0b1220;
color:white;
padding:20px;
text-align:center;
font-family:"Playfair Display",serif;
}
section{
max-width:1000px;
margin:auto;
padding:30px;
}
.box{
background:white;
padding:20px;
border-radius:14px;
box-shadow:0 8px 20px rgba(0,0,0,.08);
margin-bottom:20px;
}
input,select{
width:100%;
padding:10px;
margin-top:10px;
border-radius:8px;
border:1px solid #ccc;
}
button{
margin-top:15px;
padding:10px 22px;
border:none;
border-radius:20px;
background:#c7a14a;
color:white;
cursor:pointer;
}
.book{
margin-bottom:15px;
}
#reader{
position:fixed;
inset:0;
background:#0b1220;
color:white;
display:none;
flex-direction:column;
padding:30px;
}
#page{
max-width:700px;
margin:auto;
line-height:1.9;
}
.controls{
display:flex;
justify-content:center;
gap:20px;
margin-top:20px;
}
.close{
position:absolute;
top:20px;
right:30px;
cursor:pointer;
}
</style>
</head>

<body>

<header>
<h1>Plume Infinie</h1>
<p>Concepteur de livres par intelligence artificielle</p>
</header>

<section class="box">
<h2>ðŸ¤– Concepteur de livre par IA</h2>

<input id="title" placeholder="Titre du livre">
<input id="hero" placeholder="Personnage principal (ex : Emma, Julienâ€¦)">
<input id="place" placeholder="Lieu principal (ex : maison, villeâ€¦)">

<select id="genre">
<option>Thriller psychologique</option>
<option>Drame</option>
<option>Roman sombre</option>
<option>Policier</option>
</select>

<select id="tone">
<option>Tendu</option>
<option>Oppressant</option>
<option>MÃ©lancolique</option>
<option>Angoissant</option>
</select>

<input id="chapters" type="number" placeholder="Nombre de chapitres (ex : 15)">

<button onclick="createBook()">GÃ©nÃ©rer le livre avec lâ€™IA</button>
</section>

<section class="box">
<h2>ðŸ“š BibliothÃ¨que</h2>
<div id="library"></div>
</section>

<div id="reader">
<span class="close" onclick="closeReader()">âœ• Fermer</span>
<h2 id="readerTitle"></h2>
<div id="page"></div>

<div class="controls">
<button onclick="prevChapter()">Chapitre prÃ©cÃ©dent</button>
<button onclick="nextChapter()">Chapitre suivant</button>
</div>
</div>

<script>
let books=[];
let currentBook=null;
let currentChapter=0;

function createBook(){
const title=document.getElementById("title").value||"Roman IA";
const hero=document.getElementById("hero").value||"Le narrateur";
const place=document.getElementById("place").value||"un lieu inconnu";
const genre=document.getElementById("genre").value;
const tone=document.getElementById("tone").value;
const count=parseInt(document.getElementById("chapters").value)||10;

let chapters=[];

for(let i=1;i<=count;i++){
chapters.push({
title:`Chapitre ${i}`,
text:
`${hero} se trouvait dans ${place}.
Lâ€™atmosphÃ¨re Ã©tait ${tone.toLowerCase()}.

Dans ce ${genre.toLowerCase()}, chaque dÃ©tail avait son importance.
Ce chapitre ${i} faisait avancer lâ€™histoire vers une vÃ©ritÃ© inconfortable.

Plus ${hero} avanÃ§ait, plus il devenait clair que rien ne serait plus jamais comme avant.`
});
}

books.push({title,chapters});
renderLibrary();
alert("Livre crÃ©Ã© par lâ€™IA et ajoutÃ© Ã  la bibliothÃ¨que");
}

function renderLibrary(){
library.innerHTML="";
books.forEach((b,i)=>{
library.innerHTML+=`
<div class="book">
<strong>${b.title}</strong>
<br>
<button onclick="openBook(${i})">Lire</button>
</div>`;
});
}

function openBook(i){
currentBook=books[i];
currentChapter=0;
reader.style.display="flex";
readerTitle.innerText=currentBook.title;
renderChapter();
}

function renderChapter(){
const c=currentBook.chapters[currentChapter];
page.innerHTML=`<h3>${c.title}</h3><p>${c.text.replace(/\n/g,"<br><br>")}</p>`;
}

function nextChapter(){
if(currentChapter<currentBook.chapters.length-1){
currentChapter++;
renderChapter();
}
}

function prevChapter(){
if(currentChapter>0){
currentChapter--;
renderChapter();
}
}

function closeReader(){
reader.style.display="none";
}
</script>

</body>
</html>
